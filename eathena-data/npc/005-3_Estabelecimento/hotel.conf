//   $PB_... = Pensão Bhramir

005-3.gat,71,50,0	script	#quarto01	300,0,0,{
	set @Quarto, 1;
	set @QuartoX, 24;
	set @QuartoY, 26;
	callfunc "HB_ControlePorta";
}
//-------------------------------------------------------------------------------------------------------------------
005-3.gat,73,50,0	script	#quarto02	300,0,0,{
	set @Quarto, 2;
	set @QuartoX, 54;
	set @QuartoY, 26;
	callfunc "HB_ControlePorta";
}
//-------------------------------------------------------------------------------------------------------------------
005-3.gat,75,50,0	script	#quarto03	300,0,0,{
	set @Quarto, 3; 
	set @QuartoX, 84; 
	set @QuartoY, 26; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,77,50,0	script	#quarto04	300,0,0,{
	set @Quarto, 4; 
	set @QuartoX, 114; 
	set @QuartoY, 26; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,79,50,0	script	#quarto05	300,0,0,{
	set @Quarto, 5; 
	set @QuartoX, 144; 
	set @QuartoY, 26; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,71,53,0	script	#quarto06	300,0,0,{
	set @Quarto, 6; 
	set @QuartoX, 174; 
	set @QuartoY, 20; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,73,53,0	script	#quarto07	300,0,0,{
	set @Quarto, 7; 
	set @QuartoX, 24; 
	set @QuartoY, 52; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,75,53,0	script	#quarto08	300,0,0,{
	set @Quarto, 8; 
	set @QuartoX, 54; 
	set @QuartoY, 52; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,77,53,0	script	#quarto09	300,0,0,{
	set @Quarto, 9; 
	set @QuartoX, 84; 
	set @QuartoY, 52; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,79,53,0	script	#quarto10	300,0,0,{
	set @Quarto, 10; 
	set @QuartoX, 114; 
	set @QuartoY, 52; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,71,80,0	script	#quarto11	300,0,0,{
	set @Quarto, 11; 
	set @QuartoX, 144; 
	set @QuartoY, 58; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,73,80,0	script	#quarto12	300,0,0,{
	set @Quarto, 12; 
	set @QuartoX, 174; 
	set @QuartoY, 58; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,75,80,0	script	#quarto13	300,0,0,{
	set @Quarto, 13; 
	set @QuartoX, 24; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,77,80,0	script	#quarto14	300,0,0,{
	set @Quarto, 14; 
	set @QuartoX, 54; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,79,80,0	script	#quarto15	300,0,0,{
	set @Quarto, 15; 
	set @QuartoX, 84; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,71,83,0	script	#quarto16	300,0,0,{
	set @Quarto, 16; 
	set @QuartoX, 114; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,73,83,0	script	#quarto17	300,0,0,{
	set @Quarto, 17; 
	set @QuartoX, 144; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,75,83,0	script	#quarto18	300,0,0,{
	set @Quarto, 18; 
	set @QuartoX, 174; 
	set @QuartoY, 90; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,77,83,0	script	#quarto19	300,0,0,{
	set @Quarto, 19; 
	set @QuartoX, 24; 
	set @QuartoY, 123; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,79,83,0	script	#quarto20	300,0,0,{
	set @Quarto, 20; 
	set @QuartoX, 54; 
	set @QuartoY, 122; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,22,82,0	script	#quarto21	300,0,0,{
	set @Quarto, 21; 
	set @QuartoX, 84; 
	set @QuartoY, 122; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,24,82,0	script	#quarto22	300,0,0,{
	set @Quarto, 22; 
	set @QuartoX, 114; 
	set @QuartoY, 122; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,26,82,0	script	#quarto23	300,0,0,{
	set @Quarto, 23; 
	set @QuartoX, 144; 
	set @QuartoY, 122; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,28,82,0	script	#quarto24	300,0,0,{
	set @Quarto, 24; 
	set @QuartoX, 174; 
	set @QuartoY, 122; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,30,82,0	script	#quarto25	300,0,0,{
	set @Quarto, 25; 
	set @QuartoX, 24; 
	set @QuartoY, 154; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,22,85,0	script	#quarto26	300,0,0,{
	set @Quarto, 26; 
	set @QuartoX, 54; 
	set @QuartoY, 154; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,24,85,0	script	#quarto27	300,0,0,{
	set @Quarto, 27; 
	set @QuartoX, 84; 
	set @QuartoY, 154; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,26,85,0	script	#quarto28	300,0,0,{
	set @Quarto, 28; 
	set @QuartoX, 114; 
	set @QuartoY, 154; 
	callfunc "HB_ControlePorta";
}

//-------------------------------------------------------------------------------------------------------------------
005-3.gat,28,85,0	script	#quarto29	300,0,0,{
	set @Quarto, 29; 
	set @QuartoX, 144; 
	set @QuartoY, 154; 
	callfunc "HB_ControlePorta";
}


//###################################################################################################################
function	script	HB_ControlePorta	{
	if(@Quarto==0) end;
	if($PB_Inquilinos$[@Quarto]=="" || gettimetick(2) > $PB_Vencimentos[@Quarto]) goto _Porta_Trancada;
	
	if(
		$PB_Senha$[@Quarto] == "!!ERROR!!" || 
		$PB_Senha$[@Quarto] == "" || 
		$PB_Inquilinos$[@Quarto]==strcharinfo(0)
	) goto _entrar;

_requisita_senha:
	mes "[QUARTO Nº"+ @Quarto +" - "+ $PB_Inquilinos$[@Quarto] +"]:";
	mes "DIGITE SUA SENHA PARA DESTRANCAR:";
	input @Entrada$;
	if(@Entrada$ == $PB_Senha$[@Quarto]) goto _entrar;
	if(@Entrada$ == "") close;
	if(@Entrada$ != $PB_Senha$[@Quarto]) goto _senha_invalida;
	close;

_senha_invalida:
	mes "[AVISO]";
	mes "\"Senha Inválida!\"";
	next;
	goto _requisita_senha;

_entrar:
	warp "005-2.gat", @QuartoX, @QuartoY;
	close;

_Porta_Trancada:
	set $PB_Inquilinos$[@Quarto], "";
	set $PB_Senha$[@Quarto], "";
	set $PB_Vencimentos[@Quarto], 0;
	mes "[QUARTO Nº"+ @Quarto +"]:";
	mes "Porta Trancada!";
	close;
}
