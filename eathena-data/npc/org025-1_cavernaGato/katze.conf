//
// Katze doesn't like the player at first, needs following:
//
// 1. Some milk
// 2. Some steak or chicken leg
// 3. Some fur
//
// Now the cat starts to speak, still needs:
//
// 4. Some wood for scratching
// 5. Some stuff for making somethings nice for the player:
//
//    * 2 Snake skins
//    * 2 Snake tongues
//    * 2 Maggot slimes
//    * 2 White furs
//    * 2 Hard spikes
//    * 2 Tiny potions
//
// Katze não gosta do jogador no início, as seguintes necessidades:
//
// 1. um pouco de leite
// 2. Alguns filé ou coxa de frango
// 3. alguns pêlos brancos
//
// Agora o gato começa a falar, ainda precisa de:
//
// 4. Um pouco de madeira para riscar
// 5. Algumas coisas para fazer algo de bom para o jogador:
//
//    * 2 pele de cobra da montanha
//    * 2 línguas de cobra
//    * 2 Gosma de Verme
//    * 2 Pêlos Brancos
//    * 2 Espinhos
//    * 2 Poções pequenas
//

org025-1.gat,32,25,0	script	Katze	172, {

	if (Katze == 1 && KatzeBeenOutside == 1) goto L_NeedsFood;
	if (Katze == 1) goto L_PreNeedsFood;

	if (Katze == 2 && KatzeBeenOutside == 1) goto L_NeedsFur;
	if (Katze == 2) goto L_PreNeedsFur;

	if (Katze == 3) goto L_NeedsWood;

	if (Katze == 4 && KatzeBeenOutside == 1) goto L_NeedsStuff;
	if (Katze == 4) goto L_PreNeedsStuff;

	if (Katze == 5) goto L_NeedsStuff2;

	if (Katze == 6 && KatzeBeenOutside == 1) goto L_GainEars;
	if (Katze == 6) goto L_PreGainEars;

	if (Katze == 7) goto L_Finished;

L_NeedsMilk:
	mes "[Katze]";
	mes "\"Meow.\"";
	next;
	menu "Jogue uma pedra no gato", L_ThrowStone,
		 "Deixar o gato em paz", -;
	close;

L_ThrowStone:
	set Katze, 0;
	// talvez certificar-se de não matar o jogador, uma vez que este tenha algum problema. o
	// O texto abaixo permanecerá na caixa de diálogo NPC até que seja usado novamente.
	heal -100,0;
	warp "015-1.gat", 60, 32;
	mes "\"GRAAUWL! Hissss...\"";
	mes "Yikes, o gato atacou de você! Todo o seu corpo está arranhado. Talvez atirar uma pedra nele não era uma idéia tão boa ...";
	close;

L_PreNeedsFood:
L_NeedsFood:
	mes "[Katze]";
	mes "\"Meow, prrrr...\"";
	next;
	menu "Jogue uma pedra no gato", L_ThrowStone,
		 "Deixar o gato em paz", -;
	close;

L_PreNeedsFur:
L_NeedsFur:
	mes "[Katze]";
	mes "\"Prrr. Meow, prrr...\"";
	next;

	if (countitem("WhiteFur") > 0)
		menu "Fazer movimentos engraçados com a pele perto do chão", L_MoveFur,
			 "Jogue uma pedra no gato", L_ThrowStone,
			 "Deixar o gato em paz", -;
	if (countitem("WhiteFur") == 0)
		menu "Jogue uma pedra no gato", L_ThrowStone,
			 "Deixar o gato em paz", -;
	close;

L_MoveFur:
	delitem "PeloBrando", 1;
	set Katze, 3;
	mes "O gato pula na pele! Você rapidamente solta a pele. O gato feliz retorna ao seu lugar, levando a pele em sua boca.";
	next;
	mes "A pele cai da boca do gato e ele olha para você com olhos semi-abertos. De repente, ela começa a falar, e diz: \"Isso foi muito gentil de sua parte \". Ela parece estar sorrindo.";
	close;

L_NeedsWood:
	mes "[Katze]";
	mes "\"Prrrr, agora eu gostaria de algo para afiar minhas garras em.\"";
	next;

	if (countitem("TocodeMadeira") > 0)
		menu "Quer este pedaço de madeira?", L_GiveToco,
			 "Ok, te vejo mais tarde", -;
	close;

L_GiveWood:
	mes "[Katze]";
	mes "\"Sure! Claro! Por favor, coloque-o ao lado do pote.\"";
	close;

L_PreNeedsStuff:
	mes "O gato ainda está de olho no pedaço de madeira. Ela provavelmente precisa ficar sozinha por um pouco de tempo de novo.";
	close;

L_NeedsStuff:
	set Katze, 5;
	mes "[Katze]";
	mes "\"Você foi muito gentil comigo. Eu posso te fazer algo agradável, mas vou precisar";
	mes "2 [pele]s,";
	mes "2 [pele de cobra da montanha]s,";
	mes "2 [Gosma de Verme]s,";
	mes "2 [Pêlo Branco]s,";
	mes "2 [Espinho]s and";
	mes "2 [EM FALTA NÂO ECONTREI O ITEM QUE DEVERIA SER]s.\"";
	close;

L_NeedsStuff2:
	mes "[Katze]";
	mes "\"Você trouxe o que eu lhe pedi?\"";
	next;
	menu
		"Look here", L_CatChecksStuff,
		"O que você precisa de novo?", L_WhatsNeeded,
		"Não, eu não tenho tudo ainda", -;
	close;

L_WhatsNeeded:
	mes "[Katze]";
	mes "\"Na verdade, você deve ter lembrado-se.\"";
	next;
	menu "Please tell me", L_Please,
		 "Não se preocupe", -;
	close;

L_Please:
	mes "[Katze]";
	mes "\"Tudo bem ... [o gato olha pra você] era";
	mes "2 [pele de cobra da montanha]s,";
	mes "2 [lingua de cobra]s,";
	mes "2 [Gosma de Verme]s,";
	mes "2 [Pêlo Branco]s,";
	mes "2 [Espinho]s and";
	mes "2 [EM FALTA NÂO ECONTREI O ITEM QUE DEVERIA SER]s.\"";
	close;

L_CatChecksStuff:
	if (countitem("peledecobradamontanha") > 1 &&
		countitem("Linguadecobra") > 1 &&
		countitem("GosmadeVerme") > 1 &&
		countitem("PeloBranco") > 1 &&
		countitem("Espinho") > 1 &&
		countitem("EM FALTA NÂO ECONTREI O ITEM QUE DEVERIA SER") > 1)
		goto L_GiveStuff;
	mes "[Katze]";
	mes "\"Você não parece ter tudo ainda. Volte mais tarde quando você tiver.\"";
	close;

L_GiveStuff:
	delitem "peledecobradamontanha", 2;
	delitem "linguadecobra", 2;
	delitem "GosmadeVerme", 2;
	delitem "PeloBranco", 2;
	delitem "Espinho", 2;
	delitem "Você não parece ter tudo ainda. Volte mais tarde quando você faz.", 2;
	set Katze, 6;
	set KatzeBeenOutside, 0;
	mes "[Katze]";
	mes "\"Muito bem! Agora deixe-me sozinho por um tempo, eu preciso de algum tempo para preparar o seu presente.\"";
	close;

L_PreGainEars:
	mes "[Katze]";
	mes "\"Por favor, me deixe sozinha por um tempo, para que eu possa preparar o seu presente.\"";
	close;

L_GainEars:
	getitem "OrelhasdeGato", 1;
	set @xpval, 5000;
	getexp @xpval, 0;
	set Katze, 7;
	mes "[Katze]";
	mes "\"Olha o que eu fiz para você! Isso faz você olhar um pouco como eu! Talvez ele lhe dará uma sensação de como é ser um gato.\"";
	mes "The cat winks at you.";
	mes "[You gain " + @xpval + " experience points]";
	close;

L_Finished:
	mes "[Katze]";
	if (getequipid(equip_head) == 1217)  // Orelhas de Gato
		mes "\"Meow, Gato companheiro.\"";
	if (getequipid(equip_head) != 1217)
		mes "\"Meow. Perdeu suas orelhas de gato? ¬¬ \"";
	close;

}
